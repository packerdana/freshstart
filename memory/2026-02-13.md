# 2026-02-13

## RouteWise / Freshstart
- Fixed bug where Stats → Day History expanded rows were showing timestamp-derived 722/721 (e.g. 11:37 / 0:00) even after using “Fix this day” minutes-only overrides. Merged PR #2 (commit 00ba5d2) to show core rows as “(fixed)” and use route_history minutes when day was manually fixed.

- Found recurring issue: Dana can “lose” today’s office volumes / timers mid-route.
  - Root causes observed:
    - Supabase save failures are often non-fatal in UI, so local state can reset to zeros after mobile refresh/eviction, and hydrate-from-route_history won’t restore if the write failed.
    - Save error screenshot: PostgREST 400 / PGRST204: missing column `cased_boxholder` in `route_history` schema cache. This can break extended saveRouteHistory flow and cause partial persistence.
  - Mitigations discussed:
    - Add missing columns to `route_history`: has_boxholder, cased_boxholder, cased_boxholder_type.
    - Force PostgREST schema reload via SQL: `notify pgrst, 'reload schema';`.
    - Future app fix: show prominent “Not saved” banner + retry autosave; avoid clearing active timers on save failure; sum multiple 721 segments for total.

## Moltbot / Larry memory tooling
- Fixed Moltbot systemd env so OPENAI_API_KEY loads correctly:
  - /home/dana/.config/systemd/user/moltbot-gateway.service.d/override.conf must include:
    [Service]
    Environment="OPENAI_API_KEY=sk-proj-..."
  - After daemon-reload + restart, verified `systemctl --user show ... | grep OPENAI_API_KEY` shows the variable.
  - Memory search tool works again after setting OPENAI_API_KEY.

## Personal / shipping
- Dana bought a Mac mini; delivery expected Monday 2026-02-16. Provided FedEx tracking #: 512439918027.
- Mac mini specs (from Dana): Apple M4 (10‑core CPU), 24GB RAM, 512GB SSD, integrated M4 10‑core GPU; model MCYT4LL/A; silver; 2024 release.

